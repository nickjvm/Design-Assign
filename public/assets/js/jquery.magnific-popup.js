(function(d){var H="mfpFastClick",Z="error.mfploader",Y="load.mfploader",G=".mfp-img",w="mfp-loading",X="ImageHasSize",W="padding-bottom",V="padding-top",hb="</div>",yb='<div class="mfp-close"></div>',q="image",v="%url%",p="error",l="ready",k="img",U="UpdateStatus",E="loading",T="ElementParse",S="AfterChange",R="BeforeChange",e=null,n="class",D="BuildControls",Q="overflow",P="body, html",j="hidden",i="click",B="auto",f="",I="transition",c=false,b=true,y="%title%",r="mfp-",m=".",A="Close",sb="BeforeClose",Cb="AfterClose",zb="BeforeAppend",db="MarkupParse",lb="Open",xb="Change",qb="mfp",o=m+qb,ab="mfp-ready",ub="mfp-removing",cb="mfp-prevent-close",a,O=function(){},pb=!!window.jQuery,kb,s=d(window),K,u,N,z,wb,h=function(b,c){a.ev.on(qb+b+o,c)},t=function(e,b,c,f){var a=document.createElement("div");a.className=r+e;if(c)a.innerHTML=c;if(!f){a=d(a);b&&a.appendTo(b)}else b&&b.appendChild(a);return a},g=function(b,c){a.ev.triggerHandler(qb+b,c);if(a.st.callbacks){b=b.charAt(0).toLowerCase()+b.slice(1);a.st.callbacks[b]&&a.st.callbacks[b].apply(a,d.isArray(c)?c:[c])}},ob=function(){(a.st.focus?a.content.find(a.st.focus).eq(0):a.wrap).focus()},ib=function(b){if(b!==wb||!a.currTemplate.closeBtn){a.currTemplate.closeBtn=d(a.st.closeMarkup.replace(y,a.st.tClose));wb=b}return a.currTemplate.closeBtn},vb=function(){if(!d.magnificPopup.instance){a=new O;a.init();d.magnificPopup.instance=a}},Db=function(e){if(d(e).hasClass(cb))return;var g=a.st.closeOnContentClick,i=a.st.closeOnBgClick;if(g&&i)return b;else{if(!a.content||d(e).hasClass("mfp-close")||a.preloader&&e===a.preloader[0])return b;var h=c;if(a.content)for(var f=0;f<a.content.length;f++)if(e===a.content[f]||d.contains(a.content[f],e))h=b;if(e!==a.content[0]&&!h){if(i)if(d.contains(document,e))return b}else if(g)return b}return c},Ab=function(){var a=document.createElement("p").style,d=["ms","O","Moz","Webkit"];if(a[I]!==undefined)return b;while(d.length)if(d.pop()+"Transition" in a)return b;return c};O.prototype={constructor:O,init:function(){var b=navigator.appVersion;a.isIE7=b.indexOf("MSIE 7.")!==-1;a.isIE8=b.indexOf("MSIE 8.")!==-1;a.isLowIE=a.isIE7||a.isIE8;a.isAndroid=/android/gi.test(b);a.isIOS=/iphone|ipad|ipod/gi.test(b);a.supportsTransition=Ab();a.probablyMobile=a.isAndroid||a.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);K=d(document.body);u=d(document);a.popupsCache={}},open:function(e){var m="absolute",k;if(e.isObj===c){a.items=e.items.toArray();a.index=0;var w=e.items,l;for(k=0;k<w.length;k++){l=w[k];if(l.parsed)l=l.el[0];if(l===e.el[0]){a.index=k;break}}}else{a.items=d.isArray(e.items)?e.items:[e.items];a.index=e.index||0}if(a.isOpen){a.updateItemHTML();return}a.types=[];z=f;if(e.mainEl&&e.mainEl.length)a.ev=e.mainEl.eq(0);else a.ev=u;if(e.key){if(!a.popupsCache[e.key])a.popupsCache[e.key]={};a.currTemplate=a.popupsCache[e.key]}else a.currTemplate={};a.st=d.extend(b,{},d.magnificPopup.defaults,e);a.fixedContentPos=a.st.fixedContentPos===B?!a.probablyMobile:a.st.fixedContentPos;if(a.st.modal){a.st.closeOnContentClick=c;a.st.closeOnBgClick=c;a.st.showCloseBtn=c;a.st.enableEscapeKey=c}if(!a.bgOverlay){a.bgOverlay=t("bg").on(i+o,function(){a.close()});a.wrap=t("wrap").attr("tabindex",-1).on(i+o,function(b){Db(b.target)&&a.close()});a.container=t("container",a.wrap)}a.contentContainer=t("content");if(a.st.preloader)a.preloader=t("preloader",a.container,a.st.tLoading);var v=d.magnificPopup.modules;for(k=0;k<v.length;k++){var n=v[k];n=n.charAt(0).toUpperCase()+n.slice(1);a["init"+n].call(a)}g("BeforeOpen");if(a.st.showCloseBtn)if(!a.st.closeBtnInside)a.wrap.append(ib());else{h(db,function(d,c,a,b){a.close_replaceWith=ib(b.type)});z+=" mfp-close-btn-in"}if(a.st.alignTop)z+=" mfp-align-top";if(a.fixedContentPos)a.wrap.css({overflow:a.st.overflowY,overflowX:j,overflowY:a.st.overflowY});else a.wrap.css({top:s.scrollTop(),position:m});(a.st.fixedBgPos===c||a.st.fixedBgPos===B&&!a.fixedContentPos)&&a.bgOverlay.css({height:u.height(),position:m});a.st.enableEscapeKey&&u.on("keyup"+o,function(b){b.keyCode===27&&a.close()});s.on("resize"+o,function(){a.updateSize()});if(!a.st.closeOnContentClick)z+=" mfp-auto-cursor";z&&a.wrap.addClass(z);var r=a.wH=s.height(),q={};if(a.fixedContentPos)if(a._hasScrollBar(r)){var x=a._getScrollbarSize();if(x)q.paddingRight=x}if(a.fixedContentPos)if(!a.isIE7)q.overflow=j;else d(P).css(Q,j);var p=a.st.mainClass;if(a.isIE7)p+=" mfp-ie7";p&&a._addClassToMFP(p);a.updateItemHTML();g(D);d("html").css(q);a.bgOverlay.add(a.wrap).prependTo(document.body);a._lastFocusedEl=document.activeElement;setTimeout(function(){if(a.content){a._addClassToMFP(ab);ob()}else a.bgOverlay.addClass(ab);u.on("focusin"+o,function(b){if(b.target!==a.wrap[0]&&!d.contains(a.wrap[0],b.target)){ob();return c}})},16);a.isOpen=b;a.updateSize(r);g(lb)},close:function(){if(!a.isOpen)return;g(sb);a.isOpen=c;if(a.st.removalDelay&&!a.isLowIE&&a.supportsTransition){a._addClassToMFP(ub);setTimeout(function(){a._close()},a.st.removalDelay)}else a._close()},_close:function(){g(A);var c=ub+" "+ab+" ";a.bgOverlay.detach();a.wrap.detach();a.container.empty();if(a.st.mainClass)c+=a.st.mainClass+" ";a._removeClassFromMFP(c);if(a.fixedContentPos){var h={paddingRight:f};if(a.isIE7)d(P).css(Q,f);else h.overflow=f;d("html").css(h)}u.off("keyup"+o+" focusin"+o);a.ev.off(o);a.wrap.attr(n,"mfp-wrap").removeAttr("style");a.bgOverlay.attr(n,"mfp-bg");a.container.attr(n,"mfp-container");if(a.st.showCloseBtn&&(!a.st.closeBtnInside||a.currTemplate[a.currItem.type]===b))a.currTemplate.closeBtn&&a.currTemplate.closeBtn.detach();a._lastFocusedEl&&d(a._lastFocusedEl).focus();a.currItem=e;a.content=e;a.currTemplate=e;a.prevHeight=0;g(Cb)},updateSize:function(c){if(a.isIOS){var d=document.documentElement.clientWidth/window.innerWidth,b=window.innerHeight*d;a.wrap.css("height",b);a.wH=b}else a.wH=c||s.height();!a.fixedContentPos&&a.wrap.css("height",a.wH);g("Resize")},updateItemHTML:function(){var h=a.items[a.index];a.contentContainer.detach();a.content&&a.content.detach();if(!h.parsed)h=a.parseEl(a.index);var e=h.type;g(R,[a.currItem?a.currItem.type:f,e]);a.currItem=h;if(!a.currTemplate[e]){var i=a.st[e]?a.st[e].markup:c;g("FirstMarkupParse",i);if(i)a.currTemplate[e]=d(i);else a.currTemplate[e]=b}N&&N!==h.type&&a.container.removeClass(r+N+"-holder");var j=a["get"+e.charAt(0).toUpperCase()+e.slice(1)](h,a.currTemplate[e]);a.appendContent(j,e);h.preloaded=b;g(xb,h);N=h.type;a.container.prepend(a.contentContainer);g(S)},appendContent:function(c,d){a.content=c;if(c)if(a.st.showCloseBtn&&a.st.closeBtnInside&&a.currTemplate[d]===b)!a.content.find(".mfp-close").length&&a.content.append(ib());else a.content=c;else a.content=f;g(zb);a.container.addClass(r+d+"-holder");a.contentContainer.append(a.content)},parseEl:function(e){var c=a.items[e],i=c.type;if(c.tagName)c={el:d(c)};else c={data:c,src:c.src};if(c.el){for(var h=a.types,f=0;f<h.length;f++)if(c.el.hasClass(r+h[f])){i=h[f];break}c.src=c.el.attr("data-mfp-src");if(!c.src)c.src=c.el.attr("href")}c.type=i||a.st.type||"inline";c.index=e;c.parsed=b;a.items[e]=c;g(T,c);return a.items[e]},addGroup:function(f,d){var g=function(b){b.mfpEl=this;a._openClick(b,f,d)};if(!d)d={};var e="click.magnificPopup";d.mainEl=f;if(d.items){d.isObj=b;f.off(e).on(e,g)}else{d.isObj=c;if(d.delegate)f.off(e).on(e,d.delegate,g);else{d.items=f;f.off(e).on(e,g)}}},_openClick:function(e,h,c){var g=c.midClick!==undefined?c.midClick:d.magnificPopup.defaults.midClick;if(!g&&(e.which===2||e.ctrlKey||e.metaKey))return;var f=c.disableOn!==undefined?c.disableOn:d.magnificPopup.defaults.disableOn;if(f)if(d.isFunction(f)){if(!f.call(a))return b}else if(s.width()<f)return b;if(e.type){e.preventDefault();a.isOpen&&e.stopPropagation()}c.el=d(e.mfpEl);if(c.delegate)c.items=h.find(c.delegate);a.open(c)},updateStatus:function(b,c){if(a.preloader){kb!==b&&a.container.removeClass("mfp-s-"+kb);if(!c&&b===E)c=a.st.tLoading;var d={status:b,text:c};g(U,d);b=d.status;c=d.text;a.preloader.html(c);a.preloader.find("a").on(i,function(a){a.stopImmediatePropagation()});a.container.addClass("mfp-s-"+b);kb=b}},_addClassToMFP:function(b){a.bgOverlay.addClass(b);a.wrap.addClass(b)},_removeClassFromMFP:function(b){this.bgOverlay.removeClass(b);a.wrap.removeClass(b)},_hasScrollBar:function(b){return (a.isIE7?u.height():document.body.scrollHeight)>(b||s.height())},_parseMarkup:function(f,e,h){var a;if(h.data)e=d.extend(h.data,e);g(db,[f,e,h]);d.each(e,function(h,d){if(d===undefined||d===c)return b;a=h.split("_");if(a.length>1){var e=f.find(o+"-"+a[0]);if(e.length>0){var g=a[1];if(g==="replaceWith")e[0]!==d[0]&&e.replaceWith(d);else if(g===k)if(e.is(k))e.attr("src",d);else e.replaceWith('<img src="'+d+'" class="'+e.attr(n)+'" />');else e.attr(a[1],d)}}else f.find(o+"-"+h).html(d)})},_getScrollbarSize:function(){if(a.scrollbarSize===undefined){var b=document.createElement("div");b.id="mfp-sbm";b.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(b);a.scrollbarSize=b.offsetWidth-b.clientWidth;document.body.removeChild(b)}return a.scrollbarSize}};d.magnificPopup={instance:e,proto:O.prototype,modules:[],open:function(a,c){vb();if(!a)a={};a.isObj=b;a.index=c||0;return this.instance.open(a)},close:function(){return d.magnificPopup.instance.close()},registerModule:function(b,a){if(a.options)d.magnificPopup.defaults[b]=a.options;d.extend(this.proto,a.proto);this.modules.push(b)},defaults:{disableOn:0,key:e,midClick:c,mainClass:f,preloader:b,focus:f,closeOnContentClick:c,closeOnBgClick:b,closeBtnInside:b,showCloseBtn:b,enableEscapeKey:b,modal:c,alignTop:c,removalDelay:0,fixedContentPos:B,fixedBgPos:B,overflowY:B,closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};d.fn.magnificPopup=function(e){var g="magnificPopup";vb();var b=d(this);if(typeof e==="string")if(e==="open"){var c,f=pb?b.data(g):b[0].magnificPopup,h=parseInt(arguments[1],10)||0;if(f.items)c=f.items[h];else{c=b;if(f.delegate)c=c.find(f.delegate);c=c.eq(h)}a._openClick({mfpEl:c},b,f)}else a.isOpen&&a[e].apply(a,Array.prototype.slice.call(arguments,1));else{if(pb)b.data(g,e);else b[0].magnificPopup=e;a.addGroup(b,e)}return b};var mb="inline",F,L,M,rb=function(){if(M){L.after(M.addClass(F)).detach();M=e}};d.magnificPopup.registerModule(mb,{options:{hiddenClass:"hide",markup:f,tNotFound:"Content not found"},proto:{initInline:function(){a.types.push(mb);h(A+m+mb,function(){rb()})},getInline:function(c,f){rb();if(c.src){var e=a.st.inline,b=d(c.src);if(b.length){var g=b[0].parentNode;if(g&&g.tagName){if(!L){F=e.hiddenClass;L=t(F);F=r+F}M=b.after(L).detach().removeClass(F)}a.updateStatus(l)}else{a.updateStatus(p,e.tNotFound);b=d("<div>")}c.inlineElement=b;return b}a.updateStatus(l);a._parseMarkup(f,{},c);return f}}});var bb="ajax",J,eb=function(){J&&K.removeClass(J)};d.magnificPopup.registerModule(bb,{options:{settings:e,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){a.types.push(bb);J=a.st.ajax.cursor;h(A+m+bb,function(){eb();a.req&&a.req.abort()})},getAjax:function(c){J&&K.addClass(J);a.updateStatus(E);var e=d.extend({url:c.src,success:function(h,i,f){var e={data:h,xhr:f};g("ParseAjax",e);a.appendContent(d(e.data),bb);c.finished=b;eb();ob();setTimeout(function(){a.wrap.addClass(ab)},16);a.updateStatus(l);g("AjaxContentAdded")},error:function(){eb();c.finished=c.loadError=b;a.updateStatus(p,a.st.ajax.tError.replace(v,c.src))}},a.st.ajax.settings);a.req=d.ajax(e);return f}}});var x,Fb=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=a.st.image.titleSrc;if(c)if(d.isFunction(c))return c.call(a,b);else if(b.el)return b.el.attr(c)||f;return f};d.magnificPopup.registerModule(q,{options:{markup:'<div class="mfp-figure">'+yb+'<div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div>'+hb+hb,cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:b,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var b=a.st.image,c=".image";a.types.push(q);h(lb+c,function(){a.currItem.type===q&&b.cursor&&K.addClass(b.cursor)});h(A+c,function(){b.cursor&&K.removeClass(b.cursor);s.off("resize"+o)});h("Resize"+c,a.resizeImage);a.isLowIE&&h(S,a.resizeImage)},resizeImage:function(){var b=a.currItem;if(!b||!b.img)return;if(a.st.image.verticalFit){var c=0;if(a.isLowIE)c=parseInt(b.img.css(V),10)+parseInt(b.img.css(W),10);b.img.css("max-height",a.wH-c)}},_onImageHasSize:function(d){if(d.img){d.hasSize=b;x&&clearInterval(x);d.isCheckingImgSize=c;g(X,d);if(d.imgHidden){a.content&&a.content.removeClass(w);d.imgHidden=c}}},findImageSize:function(d){var b=0,e=d.img[0],c=function(f){x&&clearInterval(x);x=setInterval(function(){if(e.naturalWidth>0){a._onImageHasSize(d);return}b>200&&clearInterval(x);b++;if(b===3)c(10);else if(b===40)c(50);else b===100&&c(500)},f)};c(1)},getImage:function(c,e){var f=".mfploader",m=0,i=function(){if(c)if(c.img[0].complete){c.img.off(f);if(c===a.currItem){a._onImageHasSize(c);a.updateStatus(l)}c.hasSize=b;c.loaded=b;g("ImageLoadComplete")}else{m++;if(m<200)setTimeout(i,100);else j()}},j=function(){if(c){c.img.off(f);if(c===a.currItem){a._onImageHasSize(c);a.updateStatus(p,n.tError.replace(v,c.src))}c.hasSize=b;c.loaded=b;c.loadError=b}},n=a.st.image,o=e.find(G);if(o.length){var h=document.createElement(k);h.className="mfp-img";c.img=d(h).on(Y,i).on(Z,j);h.src=c.src;if(o.is(k))c.img=c.img.clone();if(c.img[0].naturalWidth>0)c.hasSize=b}a._parseMarkup(e,{title:Fb(c),img_replaceWith:c.img},c);a.resizeImage();if(c.hasSize){x&&clearInterval(x);if(c.loadError){e.addClass(w);a.updateStatus(p,n.tError.replace(v,c.src))}else{e.removeClass(w);a.updateStatus(l)}return e}a.updateStatus(E);c.loading=b;if(!c.hasSize){c.imgHidden=b;e.addClass(w);a.findImageSize(c)}return e}}});var fb,Bb=function(){if(fb===undefined)fb=document.createElement("p").style.MozTransform!==undefined;return fb};d.magnificPopup.registerModule("zoom",{options:{enabled:c,easing:"ease-in-out",duration:300,opener:function(a){return a.is(k)?a:a.find(k)}},proto:{initZoom:function(){var d="visibility",i=a.st.zoom,l=".zoom";if(!i.enabled||!a.supportsTransition)return;var o=i.duration,m=function(e){var c=e.clone().removeAttr("style").removeAttr(n).addClass("mfp-animated-image"),d="all "+i.duration/1e3+"s "+i.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":j},b=I;a["-webkit-"+b]=a["-moz-"+b]=a["-o-"+b]=a[b]=d;c.css(a);return c},k=function(){a.content.css(d,"visible")},f,c;h(D+l,function(){if(a._allowZoom()){clearTimeout(f);a.content.css(d,j);image=a._getItemToZoom();if(!image){k();return}c=m(image);c.css(a._getOffset());a.wrap.append(c);f=setTimeout(function(){c.css(a._getOffset(b));f=setTimeout(function(){k();setTimeout(function(){c.remove();image=c=e;g("ZoomAnimationEnded")},16)},o)},16)}});h(sb+l,function(){if(a._allowZoom()){clearTimeout(f);a.st.removalDelay=o;if(!image){image=a._getItemToZoom();if(!image)return;c=m(image)}c.css(a._getOffset(b));a.wrap.append(c);a.content.css(d,j);setTimeout(function(){c.css(a._getOffset())},16)}});h(A+l,function(){if(a._allowZoom()){k();c&&c.remove()}})},_allowZoom:function(){return a.currItem.type===q},_getItemToZoom:function(){if(a.currItem.hasSize)return a.currItem.img;else return c},_getOffset:function(h){var b;if(h)b=a.currItem.img;else b=a.st.zoom.opener(a.currItem.el||a.currItem);var c=b.offset(),f=parseInt(b.css(V),10),g=parseInt(b.css(W),10);c.top-=d(window).scrollTop()-f;var e={width:b.width(),height:(pb?b.innerHeight():b[0].offsetHeight)-g-f};if(Bb())e["-moz-transform"]=e["transform"]="translate("+c.left+"px,"+c.top+"px)";else{e.left=c.left;e.top=c.top}return e}}});var C="iframe",Eb="//about:blank",gb=function(c){if(a.currTemplate[C]){var b=a.currTemplate[C].find("iframe");if(b.length){if(!c)b[0].src=Eb;a.isIE8&&b.css("display",c?"block":"none")}}};d.magnificPopup.registerModule(C,{options:{markup:'<div class="mfp-iframe-scaler">'+yb+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+hb,srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){a.types.push(C);h(R,function(d,a,c){if(a!==c)if(a===C)gb();else c===C&&gb(b)});h(A+m+C,function(){gb()})},getIframe:function(h,f){var b=h.src,e=a.st.iframe;d.each(e.patterns,function(){var a=this;if(b.indexOf(a.index)>-1){if(a.id)if(typeof a.id==="string")b=b.substr(b.lastIndexOf(a.id)+a.id.length,b.length);else b=a.id.call(a,b);b=a.src.replace("%id%",b);return c}});var g={};if(e.srcAction)g[e.srcAction]=b;a._parseMarkup(f,g,h);a.updateStatus(l);return f}}});var jb=function(b){var c=a.items.length;if(b>c-1)return b-c;else if(b<0)return c+b;return b},tb=function(c,b,a){return c.replace("%curr%",b+1).replace("%total%",a)};d.magnificPopup.registerModule("gallery",{options:{enabled:c,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:b,arrows:b,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var j=a.st.gallery,g=".mfp-gallery",k=Boolean(d.fn.mfpFastClick);a.direction=b;if(!j||!j.enabled)return c;z+=" mfp-gallery";h(lb+g,function(){j.navigateByImgClick&&a.wrap.on(i+g,G,function(){if(a.items.length>1){a.next();return c}});u.on("keydown"+g,function(b){if(b.keyCode===37)a.prev();else b.keyCode===39&&a.next()})});h(U+g,function(c,b){if(b.text)b.text=tb(b.text,a.currItem.index,a.items.length)});h(db+g,function(g,e,c,d){var b=a.items.length;c.counter=b>1?tb(j.tCounter,d.index,b):f});h(D+g,function(){if(a.items.length>1&&j.arrows&&!a.arrowLeft){var g=j.arrowMarkup,f=a.arrowLeft=d(g.replace(y,j.tPrev).replace("%dir%","left")).addClass(cb),e=a.arrowRight=d(g.replace(y,j.tNext).replace("%dir%","right")).addClass(cb),h=k?H:i;f[h](function(){a.prev()});e[h](function(){a.next()});if(a.isIE7){t("b",f[0],c,b);t("a",f[0],c,b);t("b",e[0],c,b);t("a",e[0],c,b)}a.container.append(f.add(e))}});h(xb+g,function(){a._preloadTimeout&&clearTimeout(a._preloadTimeout);a._preloadTimeout=setTimeout(function(){a.preloadNearbyImages();a._preloadTimeout=e},16)});h(A+g,function(){u.off(g);a.wrap.off(i+g);a.arrowLeft&&k&&a.arrowLeft.add(a.arrowRight).destroyMfpFastClick();a.arrowRight=a.arrowLeft=e})},next:function(){a.direction=b;a.index=jb(a.index+1);a.updateItemHTML()},prev:function(){a.direction=c;a.index=jb(a.index-1);a.updateItemHTML()},goTo:function(b){a.direction=b>=a.index;a.index=b;a.updateItemHTML()},preloadNearbyImages:function(){for(var e=a.st.gallery.preload,c=Math.min(e[0],a.items.length),d=Math.min(e[1],a.items.length),b=1;b<=(a.direction?d:c);b++)a._preloadItem(a.index+b);for(b=1;b<=(a.direction?c:d);b++)a._preloadItem(a.index-b)},_preloadItem:function(e){e=jb(e);if(a.items[e].preloaded)return;var c=a.items[e];if(!c.parsed)c=a.parseEl(e);g("LazyLoad",c);if(c.type===q)c.img=d('<img class="mfp-img" />').on(Y,function(){c.hasSize=b}).on(Z,function(){c.hasSize=b;c.loadError=b;g("LazyLoadError",c)}).attr("src",c.src);c.preloaded=b}}});var nb="retina";d.magnificPopup.registerModule(nb,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return "@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var c=a.st.retina,b=c.ratio;b=!isNaN(b)?b:b();if(b>1){h(X+m+nb,function(c,a){a.img.css({"max-width":a.img[0].naturalWidth/b,width:"100%"})});h(T+m+nb,function(d,a){a.src=c.replaceSrc(a,b)})}}}}});(function(){var f="touchstart",g=" touchend",a="touchmove",k=1e3,j="ontouchstart" in window,h=function(){s.off(a+e+g+e)},l=H,e=m+l;d.fn.mfpFastClick=function(g){return d(this).each(function(){var t=d(this),o;if(j){var p,q,r,m,l,n;t.on(f+e,function(d){m=c;n=1;l=d.originalEvent?d.originalEvent.touches[0]:d.touches[0];q=l.clientX;r=l.clientY;s.on(a+e,function(a){l=a.originalEvent?a.originalEvent.touches:a.touches;n=l.length;l=l[0];if(Math.abs(l.clientX-q)>10||Math.abs(l.clientY-r)>10){m=b;h()}}).on("touchend"+e,function(a){h();if(m||n>1)return;o=b;a.preventDefault();clearTimeout(p);p=setTimeout(function(){o=c},k);g()})})}t.on(i+e,function(){!o&&g()})})};d.fn.destroyMfpFastClick=function(){d(this).off(f+e+" click"+e);j&&s.off(a+e+g+e)}})()})(window.jQuery||window.Zepto)